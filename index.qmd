---
title: "GlacierShift: Mapping Glacier-Affected Regions"
subtitle: "Exploring Glacier Change and Conservation Planning across the Qinghai-Tibet Plateau"
author: "CASA0025 XSXWL Group"
date: "April 26 2025"
format:
  html:
    toc: true
    toc-depth: 2
    theme: cosmo
    number-sections: true
---
![Group Project Logo](images/logo3.png)

## Project Summary 

Driven by global warming, widespread glacier retreat across the Qinghai-Tibet Plateau poses significant threats to ecosystems and water resources. 

This project maps glacier-affected regions from 2000 to 2020, aiming to assess glacier changes and their implications for conservation planning. Integrating multi-source datasets, the project classifies glacier-impacted areas and conducts protective planning analysis aligned with Chinese national standards. 

The findings support ecological protection efforts and inform municipal-level spatial planning, assisting governmental planners in making informed land-use decisions and monitoring ecological changes for sustainable conservation strategies.

### Problem Statement 

Glacier retreat across the Qinghai-Tibet Plateau threatens both ecological stability and water security, further challenging traditional spatial planning frameworks. 

![Global Glacial Retraet, 1960-2005 ([Source](https://earthobservatory.nasa.gov/images/7679/glacial-retreat))](glacier_loss_00.jpg){ width=80% }

Despite recent policy advances, current planning practices still overlook the changes induced by glacier retreat, leading to gaps in conservation planning.

![Logical Schematic Diagram](sketch.png)

To address these challenges, this project seeks to answer the question: 

**What spatial impacts have glacier changes on the Qinghai-Tibet Plateau had on the regional ecosystem and territorial spatial planning?**

Based on this, the project develops a spatial tool that maps glacier-affected regions and integrates glacial change indicators into municipal-level spatial planning to support adaptive governance.

### End User 

Who are you building this application for? How does it address a need this community has?

### Data

What data are you using? 

### Methodology

How are you using this data to address the problem?

![Methodology Flow Map](flowmap.png)

### Interface

The application's interface is designed to address the needs of spatial planners, policy stakeholders, and researchers seeking to understand and integrate glacier-related environmental changes into spatial governance.

The layout consists of a control panel and a map visualization area:

- The left-side panel【待补充交互判定】 provides project information, instructions, module switching buttons, a layer selector, year sliders, and a dynamic attribute table.

- The map area supports both split-screen synchronized maps for temporal comparison (2000–2020) and single-map evaluation mode for zoning and suitability assessments.

- 【待补充交互判定】

Users can interactively:

- Compare glacier thickness, temperature, NDVI, and water body changes across different years using dual synchronized maps.

- Drag a center slider to visually contrast two temporal layers.

- Switch between "Interannual Comparison" and "Dual Evaluation" 【待补充交互判定】modules to examine both environmental change processes and spatial suitability outcomes.

- Click on municipalities to retrieve dynamic attribute tables summarizing mean, minimum, maximum values, or water body areas.

- View adaptive legends that automatically adjust to the selected thematic layer, ensuring

Overall, the interface prioritizes visual clarity, interactive exploration, and decision-making support for integrating glacial dynamics into territorial planning.


## The Application 

Warnign: Users need to register and log in to GEE to obtain the loading of data 

:::{.column-page}

<iframe src='https://casa0025geeappglaicier.projects.earthengine.app/view/xswl1' width='100%' height='700px'></iframe>

:::
## How it Works 

The application is built using the Google Earth Engine (GEE) JavaScript API. It integrates modular components for style definition, data processing, dynamic visualization, user interaction, and spatial querying.

### 1. Data Preparation

Study regions and glacier-affected areas are defined using FeatureCollections, and time-series datasets are accessed via project-specific assets:

```js
var defaultRegion = ee.FeatureCollection(...);
var boroughRegion = ee.FeatureCollection(...);
function getGlacierElevation(year) {...}
function getTempByYear(year) {...}
function getNDVIImageByYear(year) {...}
function getWaterbodyByYear(year) {...}
```
### 2. Layer Visualization

Dynamic rendering of thematic layers is implemented:

```js
function getLayer(type, year) {...}
```

Each layer (e.g., glacier change, temperature, NDVI, water body extent) is classified into meaningful categories and color-mapped using tailored palettes.

In the "Dual Evaluation" mode, ecological protection importance, agricultural suitability, and urban construction suitability are visualized:

```js
function getLayer2(type) {...}
```
### 3. Interactive Map Control

A split-panel map structure enables side-by-side comparisons:

```js
ui.Map.Linker([leftMap, rightMap]);
```
Users can select variables, adjust independent year sliders for each panel, and manipulate the wipe tool to analyze changes.

Switching between modules dynamically updates the interface to match the analysis purpose (temporal change vs. suitability evaluation).

### 4. Region Query and Attribute Tables

Clicking on a municipality triggers spatial queries using zonal statistics:

```js
function handleMapClick(coords, mapSide) {...}
```
The application extracts mean, minimum, maximum, or total area values based on the selected theme, and displays a comparative attribute table.

Interannual differences are computed as:

$$
\text{Difference} = \text{Value}_{\text{Right Year}} - \text{Value}_{\text{Left Year}}
$$

Color coding highlights positive or negative changes depending on the indicator (e.g., glacier loss in red, ecological gain in green).

### 5. Legend Management

Legends are dynamically generated and updated according to the active map layer, ensuring accurate interpretation of categorical classes and numerical ranges:

```js
function updateLegend(type, panel) {...}
```
This modular and user-oriented structure enables flexible exploration, rigorous analysis, and practical support for spatial decision-making regarding glacier-affected regions on the Qinghai-Tibet Plateau.


奥老师的示例如下：
You can include images:

![Pixelwise T-Test, 2018](images/beirut_change_2020.jpg)

and math:
$$ \Large t = {\frac{\overline{x_1}-\overline{x_2}} {\sqrt{\frac{s^2_1}{n_1} + \frac{s^2_2}{n_2}}}} $$


