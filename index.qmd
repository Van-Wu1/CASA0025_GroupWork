---
title: "GlacierShift: Mapping Glacier-Affected Regions"
subtitle: "Exploring Glacier Change and Conservation Planning across the Qinghai-Tibet Plateau"
author: "CASA0025 XSXWL Group"
date: "April 26 2025"
format:
  html:
    toc: true
    toc-depth: 2
    theme: cosmo
    number-sections: true
---
![Group Project Link [Here](https://github.com/Van-Wu1/CASA0025_GroupWork)](images/logo3.png)

## Project Summary

Driven by global warming, widespread glacier retreat across the Qinghai-Tibet Plateau poses significant threats to ecosystems and water resources.

This project maps glacier-affected regions from 2000 to 2020, aiming to assess glacier changes and their implications for conservation planning. Integrating multi-source datasets, the project classifies glacier-impacted areas and conducts protective planning analysis aligned with Chinese national standards.

The findings support ecological protection efforts and inform municipal-level spatial planning, assisting governmental planners in making informed land-use decisions and monitoring ecological changes for sustainable conservation strategies.

### Problem Statement

- Background

Glacier retreat across the Qinghai-Tibet Plateau threatens both ecological stability and water security, further challenging traditional spatial planning frameworks.

![Global Glacial Retraet, 1960-2005 ([Source](https://earthobservatory.nasa.gov/images/7679/glacial-retreat))](images/glacier_loss_00.jpg){ width=80% }

Despite recent policy advances, current planning practices still overlook the changes induced by glacier retreat, leading to gaps in conservation planning.

![Logical Schematic Diagram](images/sketch.png)

- Research Question

To address these challenges, this project seeks to answer the question:

**What spatial impacts have glacier changes on the Qinghai-Tibet Plateau had on the regional ecosystem and territorial spatial planning?**

Based on this, the project develops a spatial tool that maps glacier-affected regions and integrates glacial change indicators into municipal-level spatial planning to support adaptive governance.

### End User

- Who are we building for?

    - Local Governments: To obtain city-level glacier impact summaries and detect spatial planning conflicts.

    - Environment Agencies: To monitor the cascading effects of glacier retreat.

    - Research Institutions: To access dynamic glacier data and models.

    - Public: To enhance awareness of glacier protection.

    - Construction Companies: To avoid site selection in areas affected by glacier changes.

![Target Users](images/users.png)

- What needs does it address?

    - Governments and agencies need tools to support adaptive spatial planning and risk mitigation.

    - Researchers require reliable glacier data for scientific modeling.

    - The public benefits from increased awareness and educational outreach on environmental changes.

    - Construction sectors need early warnings and site selection guidance to minimize future risks.

### Data

What data are you using?
应该需要一个表格

| Data                        | Asset                                           | Sources |
|:----------------------------|:------------------------------------------------|:--------|
| Glacier Boundary | `GLIMS/20230607`| [GLIMS2023](https://developers.google.com/earth-engine/datasets/catalog/GLIMS_20230607?hl=zh-cn) |
| Glacier Change| Third party dataset | [SEDOO](https://www.sedoo.fr/theia-publication-products/?uuid=c428c5b9-df8f-4f86-9b75-e04c778e29b9) |
| Temperature (2000-2014)   | Third party dataset | [TPDC](https://data.tpdc.ac.cn/zh-hans/data/71ab4677-b66c-4fd1-a004-b2a541c4d5bf) |
| Temperature (2015-2020)     | Third party dataset | [worldclim](https://worldclim.org/data/monthlywth.html) |
| NDVI | `MODIS/061/MOD13A2` | [MOD13A2.061](https://developers.google.com/earth-engine/datasets/catalog/MODIS_061_MOD13A2?hl=zh-cn) |
| Waterbody | `JRC/GSW1_4/YearlyHistory` | [JRC](https://developers.google.com/earth-engine/datasets/catalog/JRC_GSW1_4_YearlyHistory?hl=zh-cn#description) |
| Digital Elevation  | `NASA/NASADEM_HGT/001` | [NASADEM](https://developers.google.com/earth-engine/datasets/catalog/NASA_NASADEM_HGT_001?hl=zh-cn) |
| SoilGrids | `projects/soilgrids-isric/layer_name` | [ISRIC](https://git.wur.nl/isric/soilgrids/soilgrids.notebooks/-/blob/master/markdown/access_on_gee.md) |
| Precipitation | `UCSB-CHG/CHIRPS/DAILY` | [CHIRPS](https://developers.google.com/earth-engine/datasets/catalog/UCSB-CHG_CHIRPS_DAILY?hl=zh-cn) |
| PM2.5 | `projects/sat-io/open-datasets/GLOBAL-SATELLITE-PM25/ANNUAL` | [gee-community-catalog](https://gee-community-catalog.org/projects/global_pm25/) |
| Natural Ecological Resource Data | Third party dataset | [TPDC](https://data.tpdc.ac.cn/en/data/c028c82a-2fcf-462f-ba01-721fd7f655c7/) |
| Basin Boundary              | `WWF/HydroATLAS/v1/Basins/level06`               | [WWF](https://developers.google.com/earth-engine/datasets/catalog/WWF_HydroATLAS_v1_Basins_level06?hl=zh-cn) |
| Tibet Plateau Boundary      | Third party dataset | [TPDC](https://data.tpdc.ac.cn/en/data/61701a2b-31e5-41bf-b0a3-607c2a9bd3b3/) |
| Chinese Municipal Boundary  | Third party dataset | [tianditu](https://cloudcenter.tianditu.gov.cn/administrativeDivision) |

### Methodology

- Defining Glacier-Affected Regions

Based on published study (Zhang et al., 2016), calculating Relative Glacier Meltwater Contribution (RGMC) to identify cities influenced by glacier melt-water.

$$ \text{RGMC} = 7.22 \cdot (\text{Glacier Area}/\text{Basin Area})^{0.61} $$

- Environmental Data Processing and Analysis

Glacier Retreat Indicators: NDVI (vegetation regrowth as a proxy for glacier retreat) and Temperature (warming trends) were analyzed using GEE datasets.

- Spatial Suitability Zoning

Integrated "Dual Evaluation" framework (national guideline) while adding glacier melt-water into analysis.

![Dual Evaluation Flow Map](images/dualevaluation.png)

- Conflict Detection and Visualization

Automatic detection of the spatial conflict between the recalculated land use within the glacier-affected area and the current land use. Provide decision-makers with municipal summaries and structured outputs.

![Methodology Flow Map](images/flowmap.png)

### Interface

The application's interface is designed to address the needs of spatial planners, policy stakeholders, and researchers seeking to understand and integrate glacier-related environmental changes into spatial governance.

The layout consists of a control panel and a map visualisation area:

- The left-side panel provides project information, instructions, module switching buttons, layer selectors, year sliders, and a dynamic attribute table.

- The map area supports split-screen synchronised maps for temporal comparison (2000–2020), single-map evaluation mode for zoning and suitability assessments, and conflict detection mode for spatial analysis.

Users can interactively:

- Compare glacier thickness, temperature, NDVI, and water body changes across different years using dual synchronised maps.

- Drag a center slider to visually contrast two temporal layers.

- Switch among three modules:

  - Interannual Comparison (2000–2020 environmental changes)

  - Dual Evaluation (ecological, agricultural, and urban suitability)

  - Region Conflict Detection (spatial conflicts between land use and ecological zones)

- Tables of attributes of inter-annual changes in glacier elevation change and its associated ecological indicators can be obtained by clicking on the glacier-affected areas divided by administrative districts (the year of the left and right maps determines the year of comparison of the attribute tables).

- Click in conflict detection mode to query whether a specific location falls into an ecological-protected conflict zone.

- View adaptive legends that automatically adjust to the selected thematic layer, ensuring

Overall, the interface prioritizes visual clarity, modular exploration, and decision-making support for integrating glacial dynamics and spatial conflicts into territorial planning.

## The Application

Warnign: Users need to register and log in to GEE to obtain the loading of data

:::{.column-page}

<iframe src='https://casa0025geeappglaicier.projects.earthengine.app/view/glaciershiftxswl' width='100%' height='700px'></iframe>

:::

## How it Works

The application is built using the Google Earth Engine (GEE) JavaScript API. It integrates modular components for style definition, data processing, dynamic visualization, user interaction, querying, and spatial conflict detection.

### Data Preparation

Study regions and glacier-affected areas are defined using FeatureCollections, and time-series datasets are accessed via project-specific assets:

```js
var defaultRegion = ee.FeatureCollection(...);
var boroughRegion = ee.FeatureCollection(...);
function getGlacierElevation(year) {...}
function getTempByYear(year) {...}
function getNDVIImageByYear(year) {...}
function getWaterbodyByYear(year) {...}
```

Additionally, conflict datasets are prepared by combining:

- Ecological protection zones (evaluation results)

- Built-up areas and cropland areas (ESA WorldCover land cover data)

The intersections of ecological zones with urban or agricultural areas are extracted to identify potential conflict zones.

```js
var conflict_urban = built_up.and(eco_zone);
var conflict_cropland = cropland.and(eco_zone);
```

### Layer Visualisation

Dynamic rendering of thematic layers is implemented:

```js
function getLayer(type, year) {...}
```
Each environmental indicator is classified into categories and mapped with specific palettes.

Suitability evaluation layers and conflict detection layers are dynamically updated based on the active module.

### Interactive Map Control

A split-panel map structure enables side-by-side comparisons for interannual environmental changes:

```js
ui.Map.Linker([leftMap, rightMap]);
```
In other modules, single maps display suitability or conflict zones.

Users can dynamically switch between modules with intuitive UI controls, adjusting the map view accordingly.

### Region Query, Attribute Tables, and Conflict Detection

Clicking on a glacier-affected area in an administrative region triggers the generation of an attribute table via regional statistics:

```js
function handleMapClick(coords, mapSide) {...}
```
Interannual differences are calculated as:

$$
\text{Difference} = \text{Value}_{\text{Right Year}} - \text{Value}_{\text{Left Year}}
$$

In conflict detection mode, clicking a location evaluates whether it falls into:

- Urban-ecology conflict zone (built-up land encroaching ecological areas)

- Agricultural-ecology conflict zone (cropland encroaching ecological areas)

Query results are displayed with color-coded labels indicating conflict status.

```js
function setupConflictDetection() {...}
```

### Legend Management

Legends are automatically updated for each data layer and module, including ecological evaluation classes, land suitability levels, and conflict zones.

```js
function updateLegend(type, panel) {...}
```
The modular architecture of our GEE app ensures flexible exploration, spatial conflict analysis and practical support for decision-making in glacier-affected areas.

奥老师的示例如下：
You can include images:

![Pixelwise T-Test, 2018](images/beirut_change_2020.jpg)

and math:
$$ \Large t = {\frac{\overline{x_1}-\overline{x_2}} {\sqrt{\frac{s^2_1}{n_1} + \frac{s^2_2}{n_2}}}} $$