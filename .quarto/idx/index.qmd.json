{"title":"GlacierShift: Mapping Glacier-Affected Regions","markdown":{"yaml":{"title":"GlacierShift: Mapping Glacier-Affected Regions","subtitle":"Exploring Glacier Change and Conservation Planning across the Qinghai-Tibet Plateau","author":"CASA0025 XSWL Group","date":"April 26 2025","format":{"html":{"toc":true,"toc-depth":2,"theme":"cosmo","number-sections":true}}},"headingText":"Project Summary","containsRefs":false,"markdown":"\n![Group Project Link [Here](https://github.com/Van-Wu1/CASA0025_GroupWork)](images/logo4.png)\n\n\nDriven by global warming, widespread glacier retreat across the Qinghai-Tibet Plateau poses significant threats to ecosystems and water resources.\n\nThis project maps glacier-affected regions from 2000 to 2020, aiming to assess glacier changes and their implications for conservation planning. Integrating multi-source datasets, the project classifies glacier-impacted areas and conducts protective planning analysis aligned with Chinese national standards.\n\nThe findings support ecological protection efforts and inform municipal-level spatial planning, assisting governmental planners in making informed land-use decisions and monitoring ecological changes for sustainable conservation strategies.\n\n### Problem Statement\n\n- Background\n\nGlacier retreat across the Qinghai-Tibet Plateau threatens both ecological stability and water security, further challenging traditional spatial planning frameworks.\n\n![Global Glacial Retraet, 1960-2005 ([Source](https://earthobservatory.nasa.gov/images/7679/glacial-retreat))](images/glacier_loss_00.jpg){ width=80% }\n\nDespite recent policy advances, current planning practices still overlook the changes induced by glacier retreat, leading to gaps in conservation planning.\n\n![Logical Schematic Diagram](images/sketch.jpg)\n\n- Research Question\n\nTo address these challenges, this project seeks to answer the question:\n\n**What spatial impacts have glacier changes on the Qinghai-Tibet Plateau had on the regional ecosystem and territorial spatial planning?**\n\nBased on this, the project develops a spatial tool that maps glacier-affected regions and integrates glacial change indicators into municipal-level spatial planning to support adaptive governance.\n\n### End User\n\n- Who are we building for?\n\n    - Local Governments: To obtain city-level glacier impact summaries and detect spatial planning conflicts.\n\n    - Environment Agencies: To monitor the cascading effects of glacier retreat.\n\n    - Research Institutions: To access dynamic glacier data and models.\n\n    - Public: To enhance awareness of glacier protection.\n\n    - Construction Companies: To avoid site selection in areas affected by glacier changes.\n\n![Target Users](images/user.jpg)\n\n- What needs does it address?\n\n    - Governments and agencies need tools to support adaptive spatial planning and risk mitigation.\n\n    - Researchers require reliable glacier data for scientific modeling.\n\n    - The public benefits from increased awareness and educational outreach on environmental changes.\n\n    - Construction sectors need early warnings and site selection guidance to minimize future risks.\n\n### Data\n\nThis project utilizes a range of geospatial and environmental datasets to assess glacier changes and support spatial planning analysis. The datasets, sourced from public Earth observation platforms and third-party research institutions, include glacier boundaries, temperature records, vegetation indices, elevation models, administrative boundaries as well as other related dataset.\n\n| Data                        | Asset                                           | Sources |\n|:----------------------------|:------------------------------------------------|:--------|\n| Glacier Boundary | `GLIMS/20230607`| [GLIMS2023](https://developers.google.com/earth-engine/datasets/catalog/GLIMS_20230607?hl=zh-cn) |\n| Glacier Change| Third party dataset | [SEDOO](https://www.sedoo.fr/theia-publication-products/?uuid=c428c5b9-df8f-4f86-9b75-e04c778e29b9) |\n| Temperature (2000-2014)   | Third party dataset | [TPDC](https://data.tpdc.ac.cn/zh-hans/data/71ab4677-b66c-4fd1-a004-b2a541c4d5bf) |\n| Temperature (2015-2020)     | Third party dataset | [worldclim](https://worldclim.org/data/monthlywth.html) |\n| NDVI | `MODIS/061/MOD13A2` | [MOD13A2.061](https://developers.google.com/earth-engine/datasets/catalog/MODIS_061_MOD13A2?hl=zh-cn) |\n| Waterbody | `JRC/GSW1_4/YearlyHistory` | [JRC](https://developers.google.com/earth-engine/datasets/catalog/JRC_GSW1_4_YearlyHistory?hl=zh-cn#description) |\n| Digital Elevation  | `NASA/NASADEM_HGT/001` | [NASADEM](https://developers.google.com/earth-engine/datasets/catalog/NASA_NASADEM_HGT_001?hl=zh-cn) |\n| SoilGrids | `projects/soilgrids-isric/layer_name` | [ISRIC](https://git.wur.nl/isric/soilgrids/soilgrids.notebooks/-/blob/master/markdown/access_on_gee.md) |\n| Precipitation | `UCSB-CHG/CHIRPS/DAILY` | [CHIRPS](https://developers.google.com/earth-engine/datasets/catalog/UCSB-CHG_CHIRPS_DAILY?hl=zh-cn) |\n| PM2.5 | `projects/sat-io/open-datasets/GLOBAL-SATELLITE-PM25/ANNUAL` | [gee-community-catalog](https://gee-community-catalog.org/projects/global_pm25/) |\n| Natural Ecological Resource Data | Third party dataset | [TPDC](https://data.tpdc.ac.cn/en/data/c028c82a-2fcf-462f-ba01-721fd7f655c7/) |\n| Basin Boundary              | `WWF/HydroATLAS/v1/Basins/level06`               | [WWF](https://developers.google.com/earth-engine/datasets/catalog/WWF_HydroATLAS_v1_Basins_level06?hl=zh-cn) |\n| Tibet Plateau Boundary      | Third party dataset | [TPDC](https://data.tpdc.ac.cn/en/data/61701a2b-31e5-41bf-b0a3-607c2a9bd3b3/) |\n| Chinese Municipal Boundary  | Third party dataset | [tianditu](https://cloudcenter.tianditu.gov.cn/administrativeDivision) |\n\n### Methodology\n\n- Defining Glacier-Affected Regions\n\nBased on published study ([Zhang et al., 2016](https://www.sciencedirect.com/science/article/pii/S0022169416302074)), calculating Relative Glacier Meltwater Contribution (RGMC) to identify cities influenced by glacier melt-water.\n\n$$ \\text{RGMC} = 7.22 \\times \\left( \\frac{\\text{Glacier Area}}{\\text{Basin Area}} \\right)^{0.61} $$\n\n- Environmental Data Processing and Analysis\n\nGlacier Retreat Indicators: NDVI (vegetation regrowth as a proxy for glacier retreat) and Temperature (warming trends) were analyzed using GEE datasets.\n\n- Spatial Suitability Zoning\n\nIntegrated \"Dual Evaluation\" framework (national guideline) while adding glacier melt-water into analysis.\n\n![Dual Evaluation Flow Map](images/dualevaluation.png)\n\n- Conflict Detection and Visualization\n\nAutomatic detection of the spatial conflict between the recalculated land use within the glacier-affected area and the current land use. Provide decision-makers with municipal summaries and structured outputs.\n\n![Methodology Flow Map](images/flowmap.png)\n\n### Interface\n\nThe application's interface supports spatial planners, policy stakeholders, and researchers in integrating glacier-related environmental changes into spatial governance.\n\nThe control panel provides commands, module switching, layer selection, year sliders and dynamic attribute tables. The map area supports dual synchronised maps, single map evaluation and conflict detection modes.\n\nUsers can compare environmental changes from 2000 to 2020, switch among Interannual Comparison, Dual Evaluation, and Conflict Detection modules, and click glacier-affected areas to retrieve attribute tables or query conflict zones.\n\nAdaptive legends automatically update, ensuring clarity and supporting modular exploration and decision-making.\n\n## The Application\n\nWarning: Users need to register and log in to GEE to obtain the loading of data\n\n:::{.column-page}\n\n<iframe src='https://casa0025-xswlgroup.projects.earthengine.app/view/glaciershift' width='100%' height='700px'></iframe>\n\n:::\n\n## How it Works\n\nThe application is built using the Google Earth Engine (GEE) JavaScript API. It integrates modular components for style definition, data processing, dynamic visualization, user interaction, querying, and spatial conflict detection.\n\n![UI Framework](images/ui.jpg)\n\n### Data Preparation\n\nStudy regions and glacier-affected areas are defined through FeatureCollections:\n\n```js\nvar defaultRegion = ee.FeatureCollection(\"projects/casa0025geeappglaicier/assets/boundary/zone_clip\");\nvar boroughRegion = ee.FeatureCollection(\"projects/casa0025geeappglaicier/assets/boundary/borough_en\");\n```\nTime-series datasets for glaciers, temperature, NDVI, and water bodies are loaded dynamically:\n\n```js\nfunction getGlacierElevation(year) {\n  var assetPath = 'users/ixizroiesxi/glacier_sum/glacier_changes_' + year + '_3band';\n  return ee.Image(assetPath).select('b1').clip(defaultRegion);\n}\n\nfunction getTempByYear(year) {...}\nfunction getNDVIImageByYear(year) {...}\nfunction getWaterbodyByYear(year) {...}\n```\nConflict detection datasets are constructed by identifying intersections between ecological protection zones and land cover categories:\n\n```js\nvar built_up = TP_landcover.select('Map').eq(50);\nvar cropland = TP_landcover.select('Map').eq(40);\nvar conflict_urban = built_up.and(eco_zone);\nvar conflict_cropland = cropland.and(eco_zone);\n```\n### Dynamic Layer Visualisation\n\nEnvironmental indicators are classified and mapped with specific colour palettes:\n\n```js\nfunction getLayer(type, year) {\n  if (type === 'Glacier') {\n    var glacImg = getGlacierElevation(year).clip(boroughRegion);\n    var classified = glacImg.expression(\n      \"b < -50 ? 1 : (b >= -50 && b < -20) ? 2 : (b >= -20 && b < 0) ? 3 : (b >= 0 && b < 20) ? 4 : (b >= 20) ? 5 : 0\",\n      { 'b': glacImg }\n    ).selfMask();\n    return classified.visualize({palette: ['#bd0026', '#e31a1c', '#fd8d3c', '#88419d', '#4d004b'], opacity: 0.95});\n  }\n  // Similar logic applies for Temperature, NDVI, and WaterBody\n}\n```\nSuitability evaluation layers for ecology, agriculture, and urban development are loaded separately:\n\n```js\nfunction getLayer2(type) {\n  if (type === 'Ecology') {\n    return ee.Image('users/ixizroiesxi/Slefixed').clip(defaultRegion).visualize({\n      min: 2, max: 3,\n      palette: ['#1db302', '#abff57'],\n      opacity: 0.8\n    });\n  }\n  // Agriculture and Urban similarly\n}\n```\n### Split-Panel Map and Interactive Control\n\nThe app uses a split-panel to support side-by-side year comparison:\n\n```js\nvar leftMap = ui.Map();\nvar rightMap = ui.Map();\nui.Map.Linker([leftMap, rightMap]);\n```\nMaps are dynamically updated according to selected year and layer:\n\n```js\nfunction updateLeftLayer(type, year) {...}\nfunction updateRightLayer(type, year) {...}\n```\nModules can be switched between interannual comparison, dual evaluation, and conflict detection by button clicks:\n\n```js\nsec1.onClick(function () { ... });\nsec2.onClick(function () { ... });\nsec3.onClick(function () { ... });\n```\n### Region Query and Attribute Table\n\nClicking on a map triggers querying of the selected administrative region:\n\n```js\nfunction handleMapClick(coords, mapSide) {\n  var point = ee.Geometry.Point(coords.lon, coords.lat);\n  var selected = boroughRegion.filterBounds(point).first();\n  ...\n}\n```\nStatistics for each indicator (mean, min, max, change) are computed:\n\n```js\nfunction queryGlacierInfo(feature, yearL, yearR) {...}\nfunction queryTemperatureInfo(feature, yearL, yearR) {...}\nfunction queryNDVIInfo(feature, yearL, yearR) {...}\nfunction queryWaterBodyInfo(feature, yearL, yearR) {...}\n```\nDifferences between selected years are calculated as:\n\n$$\n\\text{Difference} = \\text{Value}_{\\text{Right Year}} - \\text{Value}_{\\text{Left Year}}\n$$\n\n### Conflict Detection\n\nIn conflict detection mode, clicking a location assesses whether it falls within a conflict zone:\n\n```js\nfunction setupConflictDetection() {\n  section3Map.onClick(function(coords) {...});\n}\n```\nResults are displayed in an attribute table indicating:\n\n- Urban-ecology conflict\n\n- Agricultural-ecology conflict\n\nUsing colour-coded labels (red for urban conflict, orange for cropland conflict, green for no conflict).\n\n### Automatic Legend Management\n\nLegends for each data type are dynamically generated to match the active layer:\n\n```js\nfunction updateLegend(type, panel) {...}\nfunction updateLegendSection2(type, panel) {...}\n```\nConflict detection has a custom legend panel showing:\n\n- 🏙️ Built-up conflict zones\n\n- 🌾 Cropland conflict zones\n\n### Modular Architecture\n\nEach module is independently initialised, ensuring flexible exploration:\n\n| Module                | Function                                         |\n|------------------------|--------------------------------------------------|\n| Interannual Comparison | Compare environmental changes (dual map)         |\n| Dual Evaluation        | Explore ecological/agricultural/urban suitability |\n| Conflict Detection     | Identify land use conflicts                     |\n\nThe modular architecture of our GEE app ensures flexible exploration, spatial conflict analysis and practical support for decision-making in glacier-affected areas.","srcMarkdownNoYaml":"\n![Group Project Link [Here](https://github.com/Van-Wu1/CASA0025_GroupWork)](images/logo4.png)\n\n## Project Summary\n\nDriven by global warming, widespread glacier retreat across the Qinghai-Tibet Plateau poses significant threats to ecosystems and water resources.\n\nThis project maps glacier-affected regions from 2000 to 2020, aiming to assess glacier changes and their implications for conservation planning. Integrating multi-source datasets, the project classifies glacier-impacted areas and conducts protective planning analysis aligned with Chinese national standards.\n\nThe findings support ecological protection efforts and inform municipal-level spatial planning, assisting governmental planners in making informed land-use decisions and monitoring ecological changes for sustainable conservation strategies.\n\n### Problem Statement\n\n- Background\n\nGlacier retreat across the Qinghai-Tibet Plateau threatens both ecological stability and water security, further challenging traditional spatial planning frameworks.\n\n![Global Glacial Retraet, 1960-2005 ([Source](https://earthobservatory.nasa.gov/images/7679/glacial-retreat))](images/glacier_loss_00.jpg){ width=80% }\n\nDespite recent policy advances, current planning practices still overlook the changes induced by glacier retreat, leading to gaps in conservation planning.\n\n![Logical Schematic Diagram](images/sketch.jpg)\n\n- Research Question\n\nTo address these challenges, this project seeks to answer the question:\n\n**What spatial impacts have glacier changes on the Qinghai-Tibet Plateau had on the regional ecosystem and territorial spatial planning?**\n\nBased on this, the project develops a spatial tool that maps glacier-affected regions and integrates glacial change indicators into municipal-level spatial planning to support adaptive governance.\n\n### End User\n\n- Who are we building for?\n\n    - Local Governments: To obtain city-level glacier impact summaries and detect spatial planning conflicts.\n\n    - Environment Agencies: To monitor the cascading effects of glacier retreat.\n\n    - Research Institutions: To access dynamic glacier data and models.\n\n    - Public: To enhance awareness of glacier protection.\n\n    - Construction Companies: To avoid site selection in areas affected by glacier changes.\n\n![Target Users](images/user.jpg)\n\n- What needs does it address?\n\n    - Governments and agencies need tools to support adaptive spatial planning and risk mitigation.\n\n    - Researchers require reliable glacier data for scientific modeling.\n\n    - The public benefits from increased awareness and educational outreach on environmental changes.\n\n    - Construction sectors need early warnings and site selection guidance to minimize future risks.\n\n### Data\n\nThis project utilizes a range of geospatial and environmental datasets to assess glacier changes and support spatial planning analysis. The datasets, sourced from public Earth observation platforms and third-party research institutions, include glacier boundaries, temperature records, vegetation indices, elevation models, administrative boundaries as well as other related dataset.\n\n| Data                        | Asset                                           | Sources |\n|:----------------------------|:------------------------------------------------|:--------|\n| Glacier Boundary | `GLIMS/20230607`| [GLIMS2023](https://developers.google.com/earth-engine/datasets/catalog/GLIMS_20230607?hl=zh-cn) |\n| Glacier Change| Third party dataset | [SEDOO](https://www.sedoo.fr/theia-publication-products/?uuid=c428c5b9-df8f-4f86-9b75-e04c778e29b9) |\n| Temperature (2000-2014)   | Third party dataset | [TPDC](https://data.tpdc.ac.cn/zh-hans/data/71ab4677-b66c-4fd1-a004-b2a541c4d5bf) |\n| Temperature (2015-2020)     | Third party dataset | [worldclim](https://worldclim.org/data/monthlywth.html) |\n| NDVI | `MODIS/061/MOD13A2` | [MOD13A2.061](https://developers.google.com/earth-engine/datasets/catalog/MODIS_061_MOD13A2?hl=zh-cn) |\n| Waterbody | `JRC/GSW1_4/YearlyHistory` | [JRC](https://developers.google.com/earth-engine/datasets/catalog/JRC_GSW1_4_YearlyHistory?hl=zh-cn#description) |\n| Digital Elevation  | `NASA/NASADEM_HGT/001` | [NASADEM](https://developers.google.com/earth-engine/datasets/catalog/NASA_NASADEM_HGT_001?hl=zh-cn) |\n| SoilGrids | `projects/soilgrids-isric/layer_name` | [ISRIC](https://git.wur.nl/isric/soilgrids/soilgrids.notebooks/-/blob/master/markdown/access_on_gee.md) |\n| Precipitation | `UCSB-CHG/CHIRPS/DAILY` | [CHIRPS](https://developers.google.com/earth-engine/datasets/catalog/UCSB-CHG_CHIRPS_DAILY?hl=zh-cn) |\n| PM2.5 | `projects/sat-io/open-datasets/GLOBAL-SATELLITE-PM25/ANNUAL` | [gee-community-catalog](https://gee-community-catalog.org/projects/global_pm25/) |\n| Natural Ecological Resource Data | Third party dataset | [TPDC](https://data.tpdc.ac.cn/en/data/c028c82a-2fcf-462f-ba01-721fd7f655c7/) |\n| Basin Boundary              | `WWF/HydroATLAS/v1/Basins/level06`               | [WWF](https://developers.google.com/earth-engine/datasets/catalog/WWF_HydroATLAS_v1_Basins_level06?hl=zh-cn) |\n| Tibet Plateau Boundary      | Third party dataset | [TPDC](https://data.tpdc.ac.cn/en/data/61701a2b-31e5-41bf-b0a3-607c2a9bd3b3/) |\n| Chinese Municipal Boundary  | Third party dataset | [tianditu](https://cloudcenter.tianditu.gov.cn/administrativeDivision) |\n\n### Methodology\n\n- Defining Glacier-Affected Regions\n\nBased on published study ([Zhang et al., 2016](https://www.sciencedirect.com/science/article/pii/S0022169416302074)), calculating Relative Glacier Meltwater Contribution (RGMC) to identify cities influenced by glacier melt-water.\n\n$$ \\text{RGMC} = 7.22 \\times \\left( \\frac{\\text{Glacier Area}}{\\text{Basin Area}} \\right)^{0.61} $$\n\n- Environmental Data Processing and Analysis\n\nGlacier Retreat Indicators: NDVI (vegetation regrowth as a proxy for glacier retreat) and Temperature (warming trends) were analyzed using GEE datasets.\n\n- Spatial Suitability Zoning\n\nIntegrated \"Dual Evaluation\" framework (national guideline) while adding glacier melt-water into analysis.\n\n![Dual Evaluation Flow Map](images/dualevaluation.png)\n\n- Conflict Detection and Visualization\n\nAutomatic detection of the spatial conflict between the recalculated land use within the glacier-affected area and the current land use. Provide decision-makers with municipal summaries and structured outputs.\n\n![Methodology Flow Map](images/flowmap.png)\n\n### Interface\n\nThe application's interface supports spatial planners, policy stakeholders, and researchers in integrating glacier-related environmental changes into spatial governance.\n\nThe control panel provides commands, module switching, layer selection, year sliders and dynamic attribute tables. The map area supports dual synchronised maps, single map evaluation and conflict detection modes.\n\nUsers can compare environmental changes from 2000 to 2020, switch among Interannual Comparison, Dual Evaluation, and Conflict Detection modules, and click glacier-affected areas to retrieve attribute tables or query conflict zones.\n\nAdaptive legends automatically update, ensuring clarity and supporting modular exploration and decision-making.\n\n## The Application\n\nWarning: Users need to register and log in to GEE to obtain the loading of data\n\n:::{.column-page}\n\n<iframe src='https://casa0025-xswlgroup.projects.earthengine.app/view/glaciershift' width='100%' height='700px'></iframe>\n\n:::\n\n## How it Works\n\nThe application is built using the Google Earth Engine (GEE) JavaScript API. It integrates modular components for style definition, data processing, dynamic visualization, user interaction, querying, and spatial conflict detection.\n\n![UI Framework](images/ui.jpg)\n\n### Data Preparation\n\nStudy regions and glacier-affected areas are defined through FeatureCollections:\n\n```js\nvar defaultRegion = ee.FeatureCollection(\"projects/casa0025geeappglaicier/assets/boundary/zone_clip\");\nvar boroughRegion = ee.FeatureCollection(\"projects/casa0025geeappglaicier/assets/boundary/borough_en\");\n```\nTime-series datasets for glaciers, temperature, NDVI, and water bodies are loaded dynamically:\n\n```js\nfunction getGlacierElevation(year) {\n  var assetPath = 'users/ixizroiesxi/glacier_sum/glacier_changes_' + year + '_3band';\n  return ee.Image(assetPath).select('b1').clip(defaultRegion);\n}\n\nfunction getTempByYear(year) {...}\nfunction getNDVIImageByYear(year) {...}\nfunction getWaterbodyByYear(year) {...}\n```\nConflict detection datasets are constructed by identifying intersections between ecological protection zones and land cover categories:\n\n```js\nvar built_up = TP_landcover.select('Map').eq(50);\nvar cropland = TP_landcover.select('Map').eq(40);\nvar conflict_urban = built_up.and(eco_zone);\nvar conflict_cropland = cropland.and(eco_zone);\n```\n### Dynamic Layer Visualisation\n\nEnvironmental indicators are classified and mapped with specific colour palettes:\n\n```js\nfunction getLayer(type, year) {\n  if (type === 'Glacier') {\n    var glacImg = getGlacierElevation(year).clip(boroughRegion);\n    var classified = glacImg.expression(\n      \"b < -50 ? 1 : (b >= -50 && b < -20) ? 2 : (b >= -20 && b < 0) ? 3 : (b >= 0 && b < 20) ? 4 : (b >= 20) ? 5 : 0\",\n      { 'b': glacImg }\n    ).selfMask();\n    return classified.visualize({palette: ['#bd0026', '#e31a1c', '#fd8d3c', '#88419d', '#4d004b'], opacity: 0.95});\n  }\n  // Similar logic applies for Temperature, NDVI, and WaterBody\n}\n```\nSuitability evaluation layers for ecology, agriculture, and urban development are loaded separately:\n\n```js\nfunction getLayer2(type) {\n  if (type === 'Ecology') {\n    return ee.Image('users/ixizroiesxi/Slefixed').clip(defaultRegion).visualize({\n      min: 2, max: 3,\n      palette: ['#1db302', '#abff57'],\n      opacity: 0.8\n    });\n  }\n  // Agriculture and Urban similarly\n}\n```\n### Split-Panel Map and Interactive Control\n\nThe app uses a split-panel to support side-by-side year comparison:\n\n```js\nvar leftMap = ui.Map();\nvar rightMap = ui.Map();\nui.Map.Linker([leftMap, rightMap]);\n```\nMaps are dynamically updated according to selected year and layer:\n\n```js\nfunction updateLeftLayer(type, year) {...}\nfunction updateRightLayer(type, year) {...}\n```\nModules can be switched between interannual comparison, dual evaluation, and conflict detection by button clicks:\n\n```js\nsec1.onClick(function () { ... });\nsec2.onClick(function () { ... });\nsec3.onClick(function () { ... });\n```\n### Region Query and Attribute Table\n\nClicking on a map triggers querying of the selected administrative region:\n\n```js\nfunction handleMapClick(coords, mapSide) {\n  var point = ee.Geometry.Point(coords.lon, coords.lat);\n  var selected = boroughRegion.filterBounds(point).first();\n  ...\n}\n```\nStatistics for each indicator (mean, min, max, change) are computed:\n\n```js\nfunction queryGlacierInfo(feature, yearL, yearR) {...}\nfunction queryTemperatureInfo(feature, yearL, yearR) {...}\nfunction queryNDVIInfo(feature, yearL, yearR) {...}\nfunction queryWaterBodyInfo(feature, yearL, yearR) {...}\n```\nDifferences between selected years are calculated as:\n\n$$\n\\text{Difference} = \\text{Value}_{\\text{Right Year}} - \\text{Value}_{\\text{Left Year}}\n$$\n\n### Conflict Detection\n\nIn conflict detection mode, clicking a location assesses whether it falls within a conflict zone:\n\n```js\nfunction setupConflictDetection() {\n  section3Map.onClick(function(coords) {...});\n}\n```\nResults are displayed in an attribute table indicating:\n\n- Urban-ecology conflict\n\n- Agricultural-ecology conflict\n\nUsing colour-coded labels (red for urban conflict, orange for cropland conflict, green for no conflict).\n\n### Automatic Legend Management\n\nLegends for each data type are dynamically generated to match the active layer:\n\n```js\nfunction updateLegend(type, panel) {...}\nfunction updateLegendSection2(type, panel) {...}\n```\nConflict detection has a custom legend panel showing:\n\n- 🏙️ Built-up conflict zones\n\n- 🌾 Cropland conflict zones\n\n### Modular Architecture\n\nEach module is independently initialised, ensuring flexible exploration:\n\n| Module                | Function                                         |\n|------------------------|--------------------------------------------------|\n| Interannual Comparison | Compare environmental changes (dual map)         |\n| Dual Evaluation        | Explore ecological/agricultural/urban suitability |\n| Conflict Detection     | Identify land use conflicts                     |\n\nThe modular architecture of our GEE app ensures flexible exploration, spatial conflict analysis and practical support for decision-making in glacier-affected areas."},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"wrap","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","highlight-style":"monokai.theme","toc":true,"toc-depth":2,"number-sections":true,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","book":{"title":"CASA0025 Final Assessment","author":"Group Name","date":"01/01/2024","chapters":["index.qmd"],"repo-actions":["edit"],"downloads":["pdf","epub"],"sharing":["twitter","facebook"],"favicon":"favicon.ico","sidebar":{"logo":"casa_logo.png"}},"theme":{"dark":"darkly","light":"cosmo"},"code-copy":true,"linkcolor":"#34a832","title":"GlacierShift: Mapping Glacier-Affected Regions","subtitle":"Exploring Glacier Change and Conservation Planning across the Qinghai-Tibet Plateau","author":"CASA0025 XSWL Group","date":"April 26 2025"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}